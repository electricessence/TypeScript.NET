{"version":3,"sources":["System/Net/Http/HttpRequestFactory.ts"],"names":[],"mappings":"AAAA;;;GAGG;AAGH,OAAO,EAAC,qBAAqB,EAAC,MAAM,wCAAwC,CAAC;AAC7E,OAAO,EAAC,cAAc,EAAC,MAAM,iCAAiC,CAAC;AAE/D,OAAO,EAAC,UAAU,EAAC,MAAM,cAAc,CAAC;AACxC,OAAO,EAAC,GAAG,EAAC,MAAM,eAAe,CAAC;AAQlC,oCAAoC;AAEpC,MAAM,IAAI,GAAG,oBAAoB,CAAC;AAClC;;GAEG;AACH,MAAM,yBAA0B,SAAQ,cAAc;IAKrD,YACS,KAAyB,EACjC,WAAwB;QAExB,KAAK,EAAE,CAAC;QAHA,UAAK,GAAL,KAAK,CAAoB;QAKjC,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;QAElC,EAAE,CAAA,CAAC,CAAC,KAAK,CAAC;YACT,MAAM,IAAI,qBAAqB,CAAC,OAAO,CAAC,CAAC;QAE1C,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC3C,CAAC;IAES,UAAU;QAEnB,mEAAmE;QACnE,IAAI,CAAC,KAAK,GAAQ,IAAI,CAAC;QACvB,IAAI,CAAC,YAAY,GAAQ,IAAI,CAAC;IAC/B,CAAC;IAED,GAAG,CAAC,GAAe;QAGlB,MAAM,CAAC,GAAG,IAAI,CAAC;QACf,CAAC,CAAC,eAAe,EAAE,CAAC;QACpB,MAAM,CAAC,GAAG,CAAC,CAAC,YAAY,EAClB,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QAE3B,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;cACpB,CAAC;cACD,IAAI,kBAAkB,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IACvC,CAAC;IAED,MAAM,CAAC,MAA6B;QAEnC,MAAM,CAAC,GAAG,IAAI,CAAC;QACf,CAAC,CAAC,eAAe,EAAE,CAAC;QACpB,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,YAAY,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC;IAClD,CAAC;IAED,OAAO,CAAU,MAA0B,EAAE,IAAS;QAErD,MAAM,CAAC,GAAG,IAAI,CAAC;QACf,CAAC,CAAC,eAAe,EAAE,CAAC;QACpB,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC;YACtB,MAAM,EAAE,MAAM;YACd,GAAG,EAAO,CAAC,CAAC,YAAY;YACxB,IAAI,EAAE,IAAI;SACV,CAAC,CAAC;IACJ,CAAC;IAGD,GAAG;QAEF,MAAM,CAAC,IAAI,CAAC,OAAO,CAAU,UAAU,CAAC,GAAG,CAAC,CAAC;IAC9C,CAAC;IAED,GAAG;QAEF,MAAM,CAAC,IAAI,CAAC,OAAO,CAAU,UAAU,CAAC,GAAG,CAAC,CAAC;IAC9C,CAAC;IAED,IAAI,CAAU,IAAQ;QAErB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAU,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IACrD,CAAC;IAED,QAAQ;QAEP,MAAM,CAAC,IAAI,CAAC,OAAO,CAAU,UAAU,CAAC,MAAM,CAAC,CAAC;IACjD,CAAC;CAED;AAED,eAAe,kBAAkB,CAAC","file":"HttpRequestFactory.js","sourcesContent":["/*!\r\n * @author electricessence / https://github.com/electricessence/\r\n * Licensing: MIT https://github.com/electricessence/TypeScript.NET/blob/master/LICENSE.md\r\n */\r\n\r\nimport {QueryParam} from \"../../Uri/QueryParam\";\r\nimport {ArgumentNullException} from \"../../Exceptions/ArgumentNullException\";\r\nimport {DisposableBase} from \"../../Disposable/DisposableBase\";\r\nimport {HttpMethodValue} from \"./HttpMethodValue\";\r\nimport {HttpMethod} from \"./HttpMethod\";\r\nimport {Uri} from \"../../Uri/Uri\";\r\nimport {IUri} from \"../../Uri/IUri\";\r\nimport {IHttpRequestAdapter} from \"./IHttpRequestAdapter\";\r\nimport __extendsImport from \"../../../extends\";\r\nimport GET = HttpMethod.GET;\r\nimport PUT = HttpMethod.PUT;\r\nimport POST = HttpMethod.POST;\r\nimport DELETE = HttpMethod.DELETE;\r\n// noinspection JSUnusedLocalSymbols\r\nconst __extends = __extendsImport;\r\nconst NAME = 'HttpRequestFactory';\r\n/**\r\n * This class exposes a factory for making requests to prepared uri and params.\r\n */\r\nexport class HttpRequestFactory extends DisposableBase\r\n{\r\n\r\n\tprotected _uriDefaults:Uri;\r\n\r\n\tconstructor(\r\n\t\tprivate _http:IHttpRequestAdapter,\r\n\t\turiDefaults?:string|IUri)\r\n\t{\r\n\t\tsuper();\r\n\r\n\t\tthis._disposableObjectName = NAME;\r\n\r\n\t\tif(!_http)\r\n\t\t\tthrow new ArgumentNullException('_http');\r\n\r\n\t\tthis._uriDefaults = Uri.from(uriDefaults);\r\n\t}\r\n\r\n\tprotected _onDispose()\r\n\t{\r\n\t\t// super._onDispose(); // Not required for first level inheritance.\r\n\t\tthis._http = <any>null;\r\n\t\tthis._uriDefaults = <any>null;\r\n\t}\r\n\r\n\turi(uri:string|IUri):HttpRequestFactory\r\n\t{\r\n\r\n\t\tconst _ = this;\r\n\t\t_.throwIfDisposed();\r\n\t\tconst d = _._uriDefaults,\r\n\t\t      u = Uri.from(uri, d);\r\n\r\n\t\treturn d && u.equals(d)\r\n\t\t\t? _\r\n\t\t\t: new HttpRequestFactory(_._http, u);\r\n\t}\r\n\r\n\tparams(params:QueryParam.Convertible):HttpRequestFactory\r\n\t{\r\n\t\tconst _ = this;\r\n\t\t_.throwIfDisposed();\r\n\t\treturn _.uri(_._uriDefaults.updateQuery(params));\r\n\t}\r\n\r\n\trequest<TResult>(method:HttpMethodValue.Any, data?:any):PromiseLike<TResult>\r\n\t{\r\n\t\tconst _ = this;\r\n\t\t_.throwIfDisposed();\r\n\t\treturn _._http.request({\r\n\t\t\tmethod: method,\r\n\t\t\turi: <any>_._uriDefaults,\r\n\t\t\tdata: data\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tget<TResult>():PromiseLike<TResult>\r\n\t{\r\n\t\treturn this.request<TResult>(HttpMethod.GET);\r\n\t}\r\n\r\n\tput<TResult>():PromiseLike<TResult>\r\n\t{\r\n\t\treturn this.request<TResult>(HttpMethod.PUT);\r\n\t}\r\n\r\n\tpost<TResult>(data:any):PromiseLike<TResult>\r\n\t{\r\n\t\treturn this.request<TResult>(HttpMethod.POST, data);\r\n\t}\r\n\r\n\t'delete'<TResult>():PromiseLike<TResult>\r\n\t{\r\n\t\treturn this.request<TResult>(HttpMethod.DELETE);\r\n\t}\r\n\r\n}\r\n\r\nexport default HttpRequestFactory;"]}