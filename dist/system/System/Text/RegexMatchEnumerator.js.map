{"version":3,"sources":["System/Text/RegexMatchEnumerator.ts"],"names":[],"mappings":"AAAA;;;GAGG;;;;;;;;;;;;;;;;;;YAOH;gBAIC,8BAAY,OAA2B;oBAEtC,EAAE,CAAA,CAAC,OAAO,YAAY,0BAAK,CAAC,CAC5B,CAAC;wBACA,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;oBACzB,CAAC;oBACD,IAAI,CACJ,CAAC;wBACA,IAAI,CAAC,QAAQ,GAAG,IAAI,0BAAK,CAAC,OAAO,CAAC,CAAC;oBACpC,CAAC;gBACF,CAAC;gBAED,sCAAO,GAAP,UAAQ,KAAY;oBAApB,iBAmBC;oBAjBA,IAAI,CAAQ,CAAC;oBACb,MAAM,CAAC,IAAI,+BAAc,CACxB;wBAEC,CAAC,GAAG,CAAC,CAAC;oBACP,CAAC,EACD,UAAA,OAAO;wBAEN,IAAI,KAAK,GAAS,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;wBAChD,EAAE,CAAA,CAAC,KAAK,CAAC,OAAO,CAAC,CACjB,CAAC;4BACA,CAAC,GAAG,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC;4BAC/B,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;wBACnC,CAAC;wBAED,MAAM,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;oBAC7B,CAAC,CAAC,CAAC;gBACL,CAAC;gBAEM,4BAAO,GAAd,UAAe,KAAY,EAAE,OAA2B;oBAEvD,MAAM,CAAC,KAAK,IAAI,OAAO;0BACpB,CAAC,IAAI,oBAAoB,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC;0BAClD,iCAAe,CAAC;gBACpB,CAAC;gBAEF,2BAAC;YAAD,CA5CA,AA4CC,IAAA;YA5CD,uDA4CC,CAAA;YAED,oBAAe,oBAAoB,CAAC,OAAO,EAAC","file":"RegexMatchEnumerator.js","sourcesContent":["/*!\r\n * @author electricessence / https://github.com/electricessence/\r\n * Licensing: MIT https://github.com/electricessence/TypeScript.NET/blob/master/LICENSE.md\r\n */\r\n\r\nimport {Regex, Match} from \"./RegularExpressions\";\r\nimport {EmptyEnumerator} from \"../Collections/Enumeration/EmptyEnumerator\";\r\nimport {EnumeratorBase} from \"../Collections/Enumeration/EnumeratorBase\";\r\nimport {IEnumerator} from \"../Collections/Enumeration/IEnumerator\";\r\n\r\nexport class RegexMatchEnumerator\r\n{\r\n\tprivate _pattern:Regex;\r\n\r\n\tconstructor(pattern:string|RegExp|Regex)\r\n\t{\r\n\t\tif(pattern instanceof Regex)\r\n\t\t{\r\n\t\t\tthis._pattern = pattern;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis._pattern = new Regex(pattern);\r\n\t\t}\r\n\t}\r\n\r\n\tmatches(input:string):IEnumerator<Match>\r\n\t{\r\n\t\tvar p:number; // pointer\r\n\t\treturn new EnumeratorBase<Match>(\r\n\t\t\t()=>\r\n\t\t\t{\r\n\t\t\t\tp = 0;\r\n\t\t\t},\r\n\t\t\tyielder=>\r\n\t\t\t{\r\n\t\t\t\tlet match:Match = this._pattern.match(input, p);\r\n\t\t\t\tif(match.success)\r\n\t\t\t\t{\r\n\t\t\t\t\tp = match.index + match.length;\r\n\t\t\t\t\treturn yielder.yieldReturn(match);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn yielder.yieldBreak();\r\n\t\t\t});\r\n\t}\r\n\r\n\tstatic matches(input:string, pattern:string|RegExp|Regex):IEnumerator<Match>\r\n\t{\r\n\t\treturn input && pattern\r\n\t\t\t? (new RegexMatchEnumerator(pattern)).matches(input)\r\n\t\t\t: EmptyEnumerator;\r\n\t}\r\n\r\n}\r\n\r\nexport default RegexMatchEnumerator.matches;"]}